!function(e,t){e.noConflict();var r=r||e("#wrapper");Kbcore.users={activate:function(t){var r=e(t),o=r.attr("href"),n=r.attr("data-user-id");o.length&&bootbox.confirm({message:i18n.users.activate,callback:function(t){bootbox.hideAll(),!0===t&&e.get(o,function(e){toastr.success(e)}).done(function(){e("#user-"+n).load(Config.currentURL+" #user-"+n+" > *")}).fail(function(e){toastr.error(e.responseJSON)})}})},deactivate:function(t){var r=e(t),o=r.attr("href"),n=r.attr("data-user-id");o.length&&bootbox.confirm({message:i18n.users.deactivate,callback:function(t){bootbox.hideAll(),!0===t&&e.get(o,function(e){toastr.success(e)}).done(function(){e("#user-"+n).load(Config.currentURL+" #user-"+n+" > *")}).fail(function(e){toastr.error(e.responseJSON)})}})},delete:function(t){var r=e(t),o=r.attr("href"),n=r.attr("data-user-id");o.length&&bootbox.confirm({message:i18n.users.delete,callback:function(t){bootbox.hideAll(),!0===t&&e.get(o,function(e){toastr.success(e)}).done(function(){e("#user-"+n).load(Config.currentURL+" #user-"+n+" > *")}).fail(function(e){toastr.error(e.responseJSON)})}})},restore:function(t){var r=e(t),o=r.attr("href"),n=r.attr("data-user-id");o.length&&bootbox.confirm({message:i18n.users.restore,callback:function(t){bootbox.hideAll(),!0===t&&e.get(o,function(e){toastr.success(e)}).done(function(){e("#user-"+n).load(Config.currentURL+" #user-"+n+" > *")}).fail(function(e){toastr.error(e.responseJSON)})}})},remove:function(t){var o=e(t),n=o.attr("href"),s=o.attr("data-user-id"),c=e("#user-"+s);n.length&&bootbox.confirm({size:"small",message:i18n.users.remove,callback:function(t){bootbox.hideAll(),!0===t&&n.length&&s.length&&e.get(n,function(e){toastr.success(e)}).done(function(){c.animate({opacity:0},function(){r.load(Config.currentURL+" #wrapper > *",function(){c.remove()})})}).fail(function(e){toastr.error(e.responseJSON)})}})}},e(document).on("click",".user-activate",function(e){return e.preventDefault(),Kbcore.users.activate(this)}),e(document).on("click",".user-deactivate",function(e){return e.preventDefault(),Kbcore.users.deactivate(this)}),e(document).on("click",".user-delete",function(e){return e.preventDefault(),Kbcore.users.delete(this)}),e(document).on("click",".user-restore",function(e){return e.preventDefault(),Kbcore.users.restore(this)}),e(document).on("click",".user-remove",function(e){return e.preventDefault(),Kbcore.users.remove(this)})}(jQuery);
